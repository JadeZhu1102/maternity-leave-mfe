# æ—¥å†APIå¿«é€Ÿæµ‹è¯•æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨åç«¯æœåŠ¡

ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œåœ¨ `http://localhost:8080`

### 2. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
npm run dev
```

### 3. è®¿é—®æ—¥å†ç®¡ç†é¡µé¢

```
http://localhost:5173/admin/calendar
```

---

## ğŸ“ æµ‹è¯•æ­¥éª¤

### æµ‹è¯•1ï¼šæŸ¥çœ‹APIé…ç½®

1. ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„ **"æ˜¾ç¤ºAPIé…ç½®"** æŒ‰é’®
2. æŸ¥çœ‹å½“å‰é…ç½®ï¼š
   - APIåœ°å€ï¼š`http://localhost:8080`
   - æ—¥å†ä»£ç ï¼š`CN`
   - å®Œæ•´URLï¼š`http://localhost:8080/v1/calendar/setup-calendar`

### æµ‹è¯•2ï¼šç¼–è¾‘æ—¥å†

1. ç‚¹å‡» **"ç¼–è¾‘æ—¥å†"** æŒ‰é’®ï¼Œè¿›å…¥ç¼–è¾‘æ¨¡å¼
2. ç‚¹å‡»ä»»æ„æœˆä»½ï¼ˆå¦‚1æœˆï¼‰
3. åœ¨å¼¹çª—ä¸­é€‰æ‹©æŸä¸ªæ—¥æœŸï¼ˆå¦‚2025-01-01ï¼‰
4. è®¾ç½®ä¸º **"èŠ‚å‡æ—¥"**
5. è¾“å…¥æè¿°ï¼š**"å…ƒæ—¦"**
6. ç‚¹å‡» **"ä¿å­˜"**

### æµ‹è¯•3ï¼šä¿å­˜åˆ°åç«¯

1. ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„ **"ä¿å­˜æ•´å¹´"** æŒ‰é’®
2. ç­‰å¾…ä¿å­˜å®Œæˆ
3. æŸ¥çœ‹æˆåŠŸæç¤ºï¼š
   ```
   æ—¥å†ä¿å­˜æˆåŠŸï¼
   èŠ‚å‡æ—¥: Xä¸ª
   è°ƒç­æ—¥: Xä¸ª
   ```

### æµ‹è¯•4ï¼šæŸ¥çœ‹è¯·æ±‚æ—¥å¿—

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼ŒæŸ¥çœ‹Consoleï¼š

```
[API] Saving calendar to: http://localhost:8080/v1/calendar/setup-calendar
[API] Request body: {
  "calendarCode": "CN",
  "publicHolidays": [
    {
      "calendarDate": "2025-01-01",
      "description": "å…ƒæ—¦"
    }
  ],
  "extraWorkdays": []
}
[API] Response: { ... }
```

---

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹

### ç”¨ä¾‹1ï¼šæ·»åŠ èŠ‚å‡æ—¥

**æ“ä½œï¼š**
1. ç¼–è¾‘æ¨¡å¼
2. é€‰æ‹©2025-01-01
3. è®¾ç½®ä¸º"èŠ‚å‡æ—¥"
4. æè¿°ï¼š"å…ƒæ—¦"
5. ä¿å­˜

**é¢„æœŸç»“æœï¼š**
```json
{
  "publicHolidays": [
    {
      "calendarDate": "2025-01-01",
      "description": "å…ƒæ—¦"
    }
  ]
}
```

### ç”¨ä¾‹2ï¼šæ·»åŠ è°ƒç­æ—¥

**æ“ä½œï¼š**
1. ç¼–è¾‘æ¨¡å¼
2. é€‰æ‹©2025-02-08ï¼ˆå‘¨å…­ï¼‰
3. è®¾ç½®ä¸º"è°ƒç­æ—¥"
4. æè¿°ï¼š"æ˜¥èŠ‚-è°ƒç­"
5. ä¿å­˜

**é¢„æœŸç»“æœï¼š**
```json
{
  "extraWorkdays": [
    {
      "calendarDate": "2025-02-08",
      "description": "æ˜¥èŠ‚-è°ƒç­"
    }
  ]
}
```

### ç”¨ä¾‹3ï¼šæ‰¹é‡æ·»åŠ æ˜¥èŠ‚å‡æœŸ

**æ“ä½œï¼š**
1. ç¼–è¾‘æ¨¡å¼
2. æ·»åŠ ä»¥ä¸‹èŠ‚å‡æ—¥ï¼š
   - 2025-01-28 æ˜¥èŠ‚
   - 2025-01-29 æ˜¥èŠ‚
   - 2025-01-30 æ˜¥èŠ‚
   - 2025-01-31 æ˜¥èŠ‚
   - 2025-02-01 æ˜¥èŠ‚
   - 2025-02-02 æ˜¥èŠ‚
   - 2025-02-03 æ˜¥èŠ‚
3. æ·»åŠ è°ƒç­æ—¥ï¼š
   - 2025-01-26 æ˜¥èŠ‚-è°ƒç­
   - 2025-02-08 æ˜¥èŠ‚-è°ƒç­
4. ä¿å­˜

**é¢„æœŸç»“æœï¼š**
```json
{
  "publicHolidays": [7ä¸ªæ˜¥èŠ‚å‡æœŸ],
  "extraWorkdays": [2ä¸ªè°ƒç­æ—¥]
}
```

---

## ğŸ” éªŒè¯æ–¹æ³•

### æ–¹æ³•1ï¼šæŸ¥çœ‹Networkè¯·æ±‚

1. æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ Networkæ ‡ç­¾
2. ç­›é€‰ï¼šXHR
3. æŸ¥æ‰¾ï¼š`setup-calendar`
4. æŸ¥çœ‹ï¼š
   - Request URL
   - Request Method: POST
   - Request Payload
   - Response

### æ–¹æ³•2ï¼šä½¿ç”¨curlæµ‹è¯•

```bash
curl -X POST http://localhost:8080/v1/calendar/setup-calendar \
  -H "Content-Type: application/json" \
  -d '{
    "calendarCode": "CN",
    "publicHolidays": [
      {
        "calendarDate": "2025-01-01",
        "description": "å…ƒæ—¦"
      }
    ],
    "extraWorkdays": []
  }'
```

### æ–¹æ³•3ï¼šä½¿ç”¨Postman

1. åˆ›å»ºPOSTè¯·æ±‚
2. URL: `http://localhost:8080/v1/calendar/setup-calendar`
3. Headers: `Content-Type: application/json`
4. Body: é€‰æ‹©raw JSON
5. ç²˜è´´è¯·æ±‚æ•°æ®
6. å‘é€è¯·æ±‚

---

## âš™ï¸ è‡ªå®šä¹‰é…ç½®æµ‹è¯•

### æµ‹è¯•ä¸åŒçš„APIåœ°å€

1. æ˜¾ç¤ºAPIé…ç½®
2. ä¿®æ”¹APIåœ°å€ä¸ºï¼š`http://localhost:9000`
3. ä¿å­˜æ—¥å†
4. æŸ¥çœ‹è¯·æ±‚æ˜¯å¦å‘é€åˆ°æ–°åœ°å€

### æµ‹è¯•ä¸åŒçš„æ—¥å†ä»£ç 

1. æ˜¾ç¤ºAPIé…ç½®
2. ä¿®æ”¹æ—¥å†ä»£ç ä¸ºï¼š`US`
3. ä¿å­˜æ—¥å†
4. æŸ¥çœ‹è¯·æ±‚ä½“ä¸­çš„calendarCodeæ˜¯å¦ä¸º"US"

---

## âŒ é”™è¯¯æµ‹è¯•

### æµ‹è¯•1ï¼šåç«¯æœåŠ¡æœªå¯åŠ¨

**æ“ä½œï¼š**
1. åœæ­¢åç«¯æœåŠ¡
2. å°è¯•ä¿å­˜æ—¥å†

**é¢„æœŸï¼š**
- æ˜¾ç¤ºé”™è¯¯æç¤º
- Consoleæ˜¾ç¤ºç½‘ç»œé”™è¯¯

### æµ‹è¯•2ï¼šé”™è¯¯çš„APIåœ°å€

**æ“ä½œï¼š**
1. ä¿®æ”¹APIåœ°å€ä¸ºï¼š`http://invalid-url`
2. å°è¯•ä¿å­˜æ—¥å†

**é¢„æœŸï¼š**
- æ˜¾ç¤ºé”™è¯¯æç¤º
- Consoleæ˜¾ç¤ºè¿æ¥å¤±è´¥

### æµ‹è¯•3ï¼šåç«¯è¿”å›é”™è¯¯

**æ“ä½œï¼š**
1. åç«¯è¿”å›400/500é”™è¯¯
2. å°è¯•ä¿å­˜æ—¥å†

**é¢„æœŸï¼š**
- æ˜¾ç¤ºå…·ä½“é”™è¯¯ä¿¡æ¯
- Consoleæ˜¾ç¤ºå®Œæ•´é”™è¯¯

---

## ğŸ“Š æµ‹è¯•æ•°æ®æ¨¡æ¿

### å®Œæ•´çš„2025å¹´èŠ‚å‡æ—¥

```json
{
  "calendarCode": "CN",
  "publicHolidays": [
    {"calendarDate": "2025-01-01", "description": "å…ƒæ—¦"},
    {"calendarDate": "2025-01-28", "description": "æ˜¥èŠ‚"},
    {"calendarDate": "2025-01-29", "description": "æ˜¥èŠ‚"},
    {"calendarDate": "2025-01-30", "description": "æ˜¥èŠ‚"},
    {"calendarDate": "2025-01-31", "description": "æ˜¥èŠ‚"},
    {"calendarDate": "2025-02-01", "description": "æ˜¥èŠ‚"},
    {"calendarDate": "2025-02-02", "description": "æ˜¥èŠ‚"},
    {"calendarDate": "2025-02-03", "description": "æ˜¥èŠ‚"},
    {"calendarDate": "2025-04-04", "description": "æ¸…æ˜èŠ‚"},
    {"calendarDate": "2025-04-05", "description": "æ¸…æ˜èŠ‚"},
    {"calendarDate": "2025-04-06", "description": "æ¸…æ˜èŠ‚"},
    {"calendarDate": "2025-05-01", "description": "åŠ³åŠ¨èŠ‚"},
    {"calendarDate": "2025-05-02", "description": "åŠ³åŠ¨èŠ‚"},
    {"calendarDate": "2025-05-03", "description": "åŠ³åŠ¨èŠ‚"},
    {"calendarDate": "2025-05-31", "description": "ç«¯åˆèŠ‚"},
    {"calendarDate": "2025-06-01", "description": "ç«¯åˆèŠ‚"},
    {"calendarDate": "2025-06-02", "description": "ç«¯åˆèŠ‚"},
    {"calendarDate": "2025-10-01", "description": "å›½åº†èŠ‚"},
    {"calendarDate": "2025-10-02", "description": "å›½åº†èŠ‚"},
    {"calendarDate": "2025-10-03", "description": "å›½åº†èŠ‚"},
    {"calendarDate": "2025-10-04", "description": "å›½åº†èŠ‚"},
    {"calendarDate": "2025-10-05", "description": "å›½åº†èŠ‚"},
    {"calendarDate": "2025-10-06", "description": "å›½åº†èŠ‚"},
    {"calendarDate": "2025-10-07", "description": "å›½åº†èŠ‚"}
  ],
  "extraWorkdays": [
    {"calendarDate": "2025-01-26", "description": "æ˜¥èŠ‚-è°ƒç­"},
    {"calendarDate": "2025-02-08", "description": "æ˜¥èŠ‚-è°ƒç­"},
    {"calendarDate": "2025-04-27", "description": "åŠ³åŠ¨èŠ‚-è°ƒç­"},
    {"calendarDate": "2025-09-28", "description": "å›½åº†èŠ‚-è°ƒç­"},
    {"calendarDate": "2025-10-11", "description": "å›½åº†èŠ‚-è°ƒç­"}
  ]
}
```

---

## âœ… æµ‹è¯•æ£€æŸ¥æ¸…å•

- [ ] APIé…ç½®æ˜¾ç¤ºæ­£ç¡®
- [ ] å¯ä»¥è¿›å…¥ç¼–è¾‘æ¨¡å¼
- [ ] å¯ä»¥ä¿®æ”¹æ—¥æœŸç±»å‹
- [ ] å¯ä»¥æ·»åŠ æè¿°
- [ ] ä¿å­˜æŒ‰é’®å¯ç”¨
- [ ] ä¿å­˜æˆåŠŸæç¤º
- [ ] Consoleæ—¥å¿—æ­£ç¡®
- [ ] Networkè¯·æ±‚æ­£ç¡®
- [ ] åç«¯æ¥æ”¶æ•°æ®æ­£ç¡®
- [ ] é”™è¯¯å¤„ç†æ­£å¸¸

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

1. âœ… å¯ä»¥æˆåŠŸä¿å­˜èŠ‚å‡æ—¥
2. âœ… å¯ä»¥æˆåŠŸä¿å­˜è°ƒç­æ—¥
3. âœ… è¯·æ±‚æ ¼å¼ç¬¦åˆAPIè§„èŒƒ
4. âœ… å“åº”æ•°æ®æ­£ç¡®æ˜¾ç¤º
5. âœ… é”™è¯¯å¤„ç†å‹å¥½

---

## ğŸ’¡ æç¤º

- ä½¿ç”¨Chrome DevToolsæŸ¥çœ‹è¯¦ç»†æ—¥å¿—
- æ£€æŸ¥Networkæ ‡ç­¾ç¡®è®¤è¯·æ±‚å‘é€
- æŸ¥çœ‹Consoleç¡®è®¤æ•°æ®è½¬æ¢æ­£ç¡®
- æµ‹è¯•å„ç§è¾¹ç•Œæƒ…å†µ
- éªŒè¯é”™è¯¯å¤„ç†é€»è¾‘

ç¥æµ‹è¯•é¡ºåˆ©ï¼ğŸ‰
